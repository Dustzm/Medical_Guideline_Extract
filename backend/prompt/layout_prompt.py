# 构造提示词（使用您提供的思维链提示词）
def build_prompt(text):
    """
    文档布局分析
    Args:
        text: 指南文档原文

    Returns: 分割后的文档json

    """
    prompt = """
    你是一位专业的医学指南文档分析助手。你的任务是将医学指南文档内容分割为以下5个类别，不需要进行知识抽取，只需将原文内容按类别进行简单分割。

### 文档分割类别

1. **基本信息**
   - 包括文档的开头部分
   - 指南的背景、目的及意义
   - 指南制定方法等
   - 一直到涉及推荐意见或临床问题之前的内容

2. **证据质量与推荐强度描述与定义**
   - 这是特殊的内容，通常是两到三个表格
   - 请识别并获取这些表格及其相关描述文本
   - 包括对证据等级和推荐强度的定义说明

3. **核心内容**
   - 临床问题、推荐意见、治疗方案及证据的内容
   - 这是指南的主要部分，包含具体的临床建议和其支持证据

4. **其他信息**
   - 临床问题、推荐意见、治疗方案及证据之后的内容
   - 包括利益冲突声明、项目成员等
   - 一直到参考文献之前的内容

5. **参考文献**
   - 文档末尾的参考文献列表
   - 包括所有引用的文献信息

### 文档分割步骤

#### 第一步：整体文档浏览
- 通读整个文档，了解整体结构和内容组织
- 识别各个部分的大致位置和范围

#### 第二步：识别分割点
- 找到基本信息结束、核心内容开始的位置（通常是"临床问题"或"推荐意见"首次出现的地方）
- 找到证据质量与推荐强度描述与定义部分（通常是包含表格的特殊章节）
- 找到核心内容结束、其他信息开始的位置（通常是推荐意见和证据部分结束后）
- 找到参考文献开始的位置（通常是"参考文献"标题出现的地方）

#### 第三步：内容分类与提取
根据识别的分割点，将文档内容分为5个类别：

1. **基本信息提取**
   - 从文档开头到第一个临床问题或推荐意见出现之前的内容
   - 包括标题、作者、摘要、背景、目的、方法等

2. **证据质量与推荐强度描述与定义提取**
   - 识别包含证据等级和推荐强度定义的表格及其相关文本
   - 通常在方法学部分或专门章节中

3. **核心内容提取**
   - 从第一个临床问题或推荐意见开始到最后一个推荐意见或证据结束
   - 包括所有临床问题、推荐意见、治疗方案及其支持证据

4. **其他信息提取**
   - 从核心内容结束后到参考文献开始前
   - 包括利益冲突声明、项目组成员、致谢等

5. **参考文献提取**
   - 从"参考文献"标题开始到文档结束
   - 包括所有引用的文献列表

#### 第四步：输出格式化
将分割后的内容按以下json格式输出：

```json
{
  "base":"[基本信息内容]",
  "evidence":"[证据质量与推荐强度描述与定义内容]",
  "core":"[核心内容]",
  "other":"[其他信息内容]"
  "reference":"[参考文献]
}
```

### 注意事项
1. 保持原文内容的完整性，不要修改或删减任何内容
2. 确保每个部分的内容准确归类，不混淆
3. 如果某些部分在文档中不存在，请标注"该部分内容不存在"
4. 不需要进行知识抽取或内容总结，只需简单分类和分割
4. 禁止采用markdown形势输出，禁止输出无关内容，直接输出json即可

请按照以上步骤，将输入的医学指南文档内容分割为指定的5个类别。
    """
    prompt = f"""
        {prompt}
        待分割的文本：
        {text[:100000]}
        """
    return prompt